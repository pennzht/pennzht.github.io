<!DOCTYPE html>

<head>
  <script type="text/javascript">
function delta(x, y){
  return (x===y) ? 0 : 1;
}

// Levenshtein dist.
function d1(S, T){
  var D = new Object();
  var i, j;
  for(i=0; i<=S.length; i++){
    D[i] = new Object();
    for(j=0; j<=T.length; j++){
      D[i][j] = ( i == 0 ? j :
                  j == 0 ? i :
                  Math.min(D[i-1][j]+1, D[i][j-1]+1, D[i-1][j-1]+delta(S.charAt(i-1),T.charAt(j-1))) );
    }
  }
  return D[S.length][T.length];
}

// Damerau--Levenshtein dist.
function d2(S, T){
  var D = new Object();
  var i, j;
  for(i=0; i<=S.length; i++){
    D[i] = new Object();
    for(j=0; j<=T.length; j++){
      D[i][j] = ( i == 0 ? j :
                  j == 0 ? i :
                  Math.min(D[i-1][j]+1,
                           D[i][j-1]+1,
                           D[i-1][j-1]+delta(S.charAt(i-1),T.charAt(j-1)),
                           (i>=2 && j>=2 && S.charAt(i-1)==T.charAt(j-2) && S.charAt(i-2)==T.charAt(j-1)) ? D[i-2][j-2]+1 : Infinity) );
    }
  }
  return D[S.length][T.length];
}
  </script>
</head>

<body>
  Ver. 6.
</body>
